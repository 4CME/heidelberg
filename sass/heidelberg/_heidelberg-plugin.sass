.Heidelberg-Book
  width: 800px
  max-width: 100%
  perspective: 1600

  &:after
    content: ''
    display: table
    clear: both

.Heidelberg-Page
  position: absolute
  width: 50%
  height: 100%
  background: black
  overflow: hidden

  img
    width: 100%

  backface-visibility: hidden
  transition: transform $Heidelberg-duration $Heidelberg-timing

  // left pages before active spread
  // active left page
  transform: rotateY(0)

.Heidelberg-Page:nth-child(2)
  float: left
  position: relative

// left
.Heidelberg-Page:nth-child(2n)
  transform-origin: 100%
  left: 0

// right pages
.Heidelberg-Page:nth-child(2n+1)
  transform-origin: 0
  right: 0

  // right pages before active spread
  transform: rotateY(-180deg)

// active spread
.Heidelberg-Page.is-active
  z-index: 2


// active right page
.Heidelberg-Page.is-active:nth-child(2n+1)
  transform: rotateY(0)

  // left pages after active spread
.Heidelberg-Page.is-active:nth-child(2n+1) ~ .Heidelberg-Page:nth-child(2n)
  transform: rotateY(180deg)

// right pages after active spread
.Heidelberg-Page.is-active:nth-child(2n+1) ~ .Heidelberg-Page:nth-child(2n+1)
  transform: rotateY(0)

// page transistioning out
.Heidelberg-Page.was-active
  z-index: 1

.Heidelberg-Page.is-animating:nth-child(2n+1)
  z-index: 4

.Heidelberg-Page.is-animating:nth-child(2n+1) ~ .Heidelberg-Page.is-animating
  z-index: 3

// Spreads to pages
.Heidelberg-Spread
  width: 200%

.Heidelberg-Page--with-Spread:nth-child(2n+1)
  .Heidelberg-Spread
    margin-left: -100%

