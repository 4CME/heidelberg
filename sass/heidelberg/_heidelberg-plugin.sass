$left: even
$right: odd

.Heidelberg-Book
  perspective: $Heidelberg-perspective

  &:after
    content: ''
    display: table
    clear: both

.Heidelberg-Page
  position: absolute
  width: 50%
  height: 100%
  background: black
  overflow: hidden
  backface-visibility: hidden
  transform-style: preserve-3d
  transition: transform $Heidelberg-duration $Heidelberg-timing

  // left pages before active spread
  // active left page
  transform: rotateY(0)

.Heidelberg-Page:nth-child(2)
  float: left
  position: relative

// left
.Heidelberg-Page:nth-child(#{$left})
  transform-origin: 100%
  left: 0

// right pages
.Heidelberg-Page:nth-child(#{$right})
  transform-origin: 0
  right: 0

  // right pages before active spread
  transform: rotateY(-180deg)

// active spread
.Heidelberg-Page.is-active
  z-index: 2


// active right page
.Heidelberg-Page.is-active:nth-child(#{$right})
  transform: rotateY(0)

  // left pages after active spread
.Heidelberg-Page.is-active:nth-child(#{$right}) ~ .Heidelberg-Page:nth-child(#{$left})
  transform: rotateY(180deg)

// right pages after active spread
.Heidelberg-Page.is-active:nth-child(#{$right}) ~ .Heidelberg-Page:nth-child(#{$right})
  transform: rotateY(0)

// page transistioning out
.Heidelberg-Page.was-active
  z-index: 1

.Heidelberg-Page.is-animating:nth-child(#{$right})
  z-index: 4

.Heidelberg-Page.is-animating:nth-child(#{$right}) ~ .Heidelberg-Page.is-animating
  z-index: 3

// Spreads to pages
.Heidelberg-Spread
  width: 200%

.Heidelberg-Page.with-Spread:nth-child(#{$right}) .Heidelberg-Spread
  left: -100%

